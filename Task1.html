<!DOCTYPE html>
<html>
    <body>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
        <form id="myForm">
            Grade 1
            <br>
            <input class="form-control" type="text" aria-label="default input example" name="grade1" id="grade1">
            Grade 2
            <br>
            <input class="form-control" type="text" aria-label="default input example" name="grade2" id="grade2">
            Grade 3
            <br>
            <input class="form-control" type="text" aria-label="default input example" name="grade3" id="grade3">
            Grade 4
            <br>
            <input class="form-control" type="text" aria-label="default input example" name="grade4" id="grade4">
            Grade 5
            <br>
            <input class="form-control" type="text" aria-label="default input example" name="grade5" id="grade5">

            <button type="button" class="btn btn-success" style="margin-top: 20px;" target="avggrade" onclick="calcGPA(myForm.grade1.value,myForm.grade2.value,myForm.grade3.value,myForm.grade4.value,myForm.grade5.value);" data-bs-toggle="modal" data-bs-target="#averagegrade">Calculate GPA</button> 
            <button type="button" class="btn btn-secondary" style="margin-top: 20px;" onclick="reset();">Reset</button> 
            <button type="button" class="btn btn-primary" style="margin-top: 20px;" target="adjgrade" onclick="AdjGPA(myForm.grade1.value,myForm.grade2.value,myForm.grade3.value,myForm.grade4.value,myForm.grade5.value);" data-bs-toggle="modal" data-bs-target="#averagegrade">Calculate Adjusted GPA</button>
            </form>

            <div id="avggrade" class="modal" tabindex="-1" role="dialog">
              <div class="modal-dialog" role="document">
              <div class="modal-content">
                  <div class="modal-header">
                  <h5 class="modal-title">Your Final Grade: </h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-bs-toggle="modal">
                      <span aria-hidden="true">&times;</span>
                  </button>
                  </div>
                  <div class="modal-body">
                  <p>Your final grade percentage is: <span id="avg"></span></p>
                  <p>Based on this overall score, your letter grade will be: <span id="lettergrade"></span></p>
                  </div>
                  <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal" data-bs-toggle="modal">Close</button>
                  </div>
              </div>
              </div>
          </div>

          <div id="adjgrade" class="modal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title">Your Final Grade: </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-bs-toggle="modal">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                <p>Your final grade percentage is: <span id=""></span></p>
                <p>Based on this overall score, your letter grade will be: <span id="lettergrade"></span></p>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" data-bs-toggle="modal">Close</button>
                </div>
            </div>
            </div>
        </div>
    <script>
        function calcGPA(g1, g2, g3, g3, g4, g5){
            var avg = (parseFloat(g1) + parseFloat(g2) + parseFloat(g3) + parseFloat(g4) + parseFloat(g5)) / 5;
            var lettergrade;
            console.log(avg);
            if (avg>=50){
                if(avg>=80){
                lettergrade ="A";
                }else if(avg>=68 && avg<=79){
                lettergrade ="B";
                }else if(avg>=55 && avg<=67){
                lettergrade ="C";
                }else if(avg>=50 && avg<=54){
                lettergrade = "D"}
                }else{
                    lettergrade = "F";
                }
                document.getElementById("avg").innerHTML = avg;
                document.getElementById("lettergrade").innerHTML = lettergrade;
            }
            function reset() {
                var element = document.getElementById("myForm");
                element.reset();
            }
        function AdjGPA(g1, g2, g3, g4, g5){
          var lettergrade;
          var avg1 = [parseFloat(g1), parseFloat(g2), parseFloat(g3), parseFloat(g4), parseFloat(g5)];
          console.log(avg1);
                avg1.sort();
                console.log(avg1);
                avg1.pop();
                console.log(avg1);
                var sum = 0;
                for (var i = 0; i < avg1.length; i++){
                    sum = sum + avg1[i];
                }
                var avg2 = sum/4
                console.log(avg2);
                if (avg2>=50){
                if(avg2>=80){
                lettergrade ="A";
                }else if(avg2>=68 && avg<=79){
                lettergrade ="B";
                }else if(avg2>=55 && avg<=67){
                lettergrade ="C";
                }else if(avg2>=50 && avg<=54){
                lettergrade = "D"}
                }else{
                    lettergrade = "F";
                }
                document.getElementById("avg2").innerHTML = avg2;
                document.getElementById("lettergrade").innerHTML = lettergrade;
        }
    </script>
    </body>
</html>